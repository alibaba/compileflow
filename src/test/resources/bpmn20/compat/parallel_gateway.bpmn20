<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xmlns:cf="http://compileflow.alibaba.com"
             targetNamespace="http://example.com/compileflow">
  <process id="parallel_gateway" name="Parallel Gateway Flow" isExecutable="true">
    <extensionElements>
      <cf:var name="a" dataType="java.lang.Integer" inOutType="param" defaultValue="1"/>
      <cf:var name="b" dataType="java.lang.Integer" inOutType="param" defaultValue="2"/>
      <cf:var name="serviceTask1Result" description="服务任务1结果" dataType="java.lang.Integer" inOutType="return"/>
      <cf:var name="serviceTask2Result" description="服务任务2结果" dataType="java.lang.Integer" inOutType="return"/>
    </extensionElements>
    <startEvent id="start" name="Start"/>
    <sequenceFlow id="flow1" sourceRef="start" targetRef="fork"/>
    <parallelGateway id="fork" name="Fork"/>
    <sequenceFlow id="flow2" sourceRef="fork" targetRef="serviceTask1"/>
    <sequenceFlow id="flow3" sourceRef="fork" targetRef="serviceTask2"/>
    <serviceTask id="serviceTask1" name="Service Task 1"
                 cf:type="java"
                 cf:class="com.alibaba.compileflow.engine.process.mock.MockJavaClazz"
                 cf:method="add">
      <extensionElements>
        <cf:var name="a" dataType="java.lang.Integer" contextVarName="a" inOutType="param"/>
        <cf:var name="b" dataType="java.lang.Integer" contextVarName="b" inOutType="param"/>
        <cf:var name="result" dataType="java.lang.Integer" contextVarName="serviceTask1Result" inOutType="return"/>
      </extensionElements>
    </serviceTask>
    <serviceTask id="serviceTask2" name="Service Task 2"
                 cf:type="java"
                 cf:class="com.alibaba.compileflow.engine.process.mock.MockJavaClazz"
                 cf:method="add">
      <extensionElements>
        <cf:var name="a" dataType="java.lang.Integer" contextVarName="a" inOutType="param"/>
        <cf:var name="b" dataType="java.lang.Integer" contextVarName="b" inOutType="param"/>
        <cf:var name="result" dataType="java.lang.Integer" contextVarName="serviceTask2Result" inOutType="return"/>
      </extensionElements>
    </serviceTask>
    <sequenceFlow id="flow4" sourceRef="serviceTask1" targetRef="join"/>
    <sequenceFlow id="flow5" sourceRef="serviceTask2" targetRef="join"/>
    <parallelGateway id="join" name="Join"/>
    <sequenceFlow id="flow6" sourceRef="join" targetRef="end"/>
    <endEvent id="end" name="End"/>
  </process>
</definitions> 